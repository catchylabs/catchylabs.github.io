(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{135:function(e,t,r){"use strict";r.d(t,"a",(function(){return ne}));var n=r(185),o=r(5),c=r.n(o),a=r(6),i=r.n(a),s=r(21),l=r.n(s),u=r(3),d=r(2),b=r(41),j=r(8),p=r(0),f=r(99),h=r.n(f),O=r(100),y=r(24),g=Object(O.a)({baseQuery:Object(y.d)({baseUrl:"https://api.catchylabs.co/",headers:{"content-type":"application/json"},prepareHeaders:function(e,t){var r=(0,t.getState)().auth.access_token;return r&&e.set("authorization","Bearer "+r),e}}),endpoints:function(e){return{login:e.mutation({query:function(e){return{url:"api/v1/login",method:"POST",body:e}}}),protected:e.mutation({query:function(){return"protected"}})}}}),m=g.useLoginMutation,x=(g.useProtectedMutation,r(31)),w=r(10),S=function(e){var t=e.text;return Object(w.jsx)(u.a,{style:v.container,children:Object(w.jsx)(x.a,{style:v.text,children:t})})},v=d.a.create({container:{padding:8,borderWidth:1,borderColor:"red",borderRadius:4,width:"100%",marginTop:8,marginBottom:16},text:{color:"red",fontSize:14}}),P=r(11),k=r.n(P),C=r(118),E={primary:"#32CE57",white:"#ffffff",grey:"#d9d9d9",lightGrey:"#f5f5f7",red:"#FF0056",lightRed:"#E10958"},B=["label","error"];function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=function(e){var t=e.label,r=e.error,n=k()(e,B),o=r?_:z;return Object(w.jsxs)(u.a,{style:o.containerStyle,children:[t&&Object(w.jsx)(x.a,{style:o.labelStyle,children:t}),Object(w.jsx)(C.a,T({style:o.inputStyle},n)),r&&Object(w.jsx)(x.a,{style:o.errorLabelStyle,children:r})]})},z=d.a.create({containerStyle:{width:"100%"},inputStyle:{height:48,paddingLeft:16,borderWidth:1,borderColor:E.grey,borderRadius:4},labelStyle:{fontSize:12,marginBottom:4},errorLabelStyle:{fontSize:12,color:E.red,marginTop:4}}),_=d.a.create({containerStyle:{width:"100%"},inputStyle:{height:48,paddingLeft:16,borderWidth:1,borderColor:E.red,borderRadius:4},labelStyle:{fontSize:12,marginBottom:4},errorLabelStyle:{fontSize:12,color:E.red,marginTop:4}}),R=r(119),I=function(e){var t=e.text,r=e.onClick,n=e.disabled;return Object(w.jsx)(R.a,{style:M.button,onPress:r,disabled:n,children:Object(w.jsx)(x.a,{style:M.text,children:t})})},M=d.a.create({button:{height:48,alignItems:"center",justifyContent:"center",textTransform:"uppercase",width:"100%",backgroundColor:E.primary,borderRadius:4},text:{fontSize:14,color:E.white}}),U=function(e){var t=e.children;return Object(w.jsx)(u.a,{style:W.container,children:t})},W=d.a.create({container:{width:"100%",marginBottom:16}});function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H,J=function(e){var t,r,n=e.navigation,o=Object(p.useState)({username:"",password:""}),c=i()(o,2),a=c[0],s=c[1],d=m(),j=i()(d,2),f=j[0],O=j[1];return Object(p.useEffect)((function(){O.isSuccess&&n.navigate("home")}),[O.isSuccess]),Object(w.jsxs)(u.a,{style:N.container,children:[Object(w.jsx)(b.a,{source:h.a,style:{width:200,height:60,marginBottom:48}}),O.isError&&Object(w.jsx)(S,{text:null==(t=O.error)||null==(r=t.data)?void 0:r.message}),Object(w.jsx)(U,{children:Object(w.jsx)(D,{placeholder:"Username",label:"Enter username",value:a.username,onChangeText:function(e){s((function(t){return F(F({},t),{},{username:e})}))},secureTextEntry:!1})}),Object(w.jsx)(U,{children:Object(w.jsx)(D,{placeholder:"Password",label:"Enter password",secureTextEntry:!0,value:a.password,onChangeText:function(e){s((function(t){return F(F({},t),{},{password:e})}))}})}),Object(w.jsx)(U,{children:Object(w.jsx)(I,{text:"Login",onClick:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:f({username:a.username,password:a.password});case 1:case"end":return e.stop()}}),null,null,null,Promise)},disabled:O.isLoading})})]})},N=d.a.create({container:F({flex:1,alignItems:"center",padding:24},j.a.select({web:{width:400},default:"100%"})),loginButton:{width:"100%"}}),V=r(19),G=r(4),Q=r(120),A=Object(G.d)({name:"auth",initialState:{user:null,access_token:null,refresh_token:null},reducers:{setCredentials:function(e,t){var r=t.payload,n=r.access_token,o=r.refresh_token,c=Object(Q.a)(n);e.user=c,e.access_token=n,e.refresh_token=o}}}),K=(A.actions.setCredentials,A.reducer),X=function(e){return e.auth.user},Y=function(){var e,t=function(){var e=Object(V.e)(X);return Object(p.useMemo)((function(){return{user:e}}),[e])}();return Object(w.jsx)(u.a,{style:Z.container,children:Object(w.jsxs)(x.a,{children:["Username: ",null==(e=t.user)?void 0:e.username]})})},Z=d.a.create({container:{flex:1,width:"100%",alignItems:"center",padding:24}}),$=Object(n.a)(),ee=function(){return Object(w.jsxs)($.Navigator,{initialRouteName:"login",screenOptions:{headerBackVisible:!1},children:[Object(w.jsx)($.Screen,{name:"login",component:J,options:{title:"Login"}}),Object(w.jsx)($.Screen,{name:"home",component:Y,options:{title:"Home",headerBackVisible:!1}})]})},te=Object(G.a)({reducer:(H={},c()(H,g.reducerPath,g.reducer),c()(H,"auth",K),H),middleware:function(e){return e().concat(g.middleware)}}),re=r(184);function ne(){return Object(w.jsx)(V.a,{store:te,children:Object(w.jsx)(re.a,{children:Object(w.jsx)(ee,{})})})}},139:function(e,t,r){e.exports=r(177)},99:function(e,t,r){e.exports=r.p+"static/media/app-logo.3be78e48.png"}},[[139,1,2]]]);
//# sourceMappingURL=app.126ea2fb.chunk.js.map