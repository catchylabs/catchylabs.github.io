(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{102:function(e,t,r){e.exports=r.p+"static/media/app-logo.3be78e48.png"},138:function(e,t,r){"use strict";r.d(t,"a",(function(){return se}));var n,a,o=r(191),c=r(4),i=r.n(c),s=r(6),l=r.n(s),u=r(18),d=r.n(u),b=r(3),p=r(2),j=r(42),f=r(7),h=r(0),O=r(102),y=r.n(O),g=r(104),m=r(26),x=r(139),w=r(103),v=Object(g.a)({reducerPath:"api",baseQuery:Object(m.d)({baseUrl:null==(n=x.a.manifest)||null==(a=n.extra)?void 0:a.baseUrl,headers:{"content-type":"application/json"},prepareHeaders:function(e,t){var r=(0,t.getState)().auth.access_token;return r&&e.set("authorization","Bearer "+r),e}}),endpoints:function(e){return{login:e.mutation({query:function(e){return{url:"api/v1/login",method:"POST",body:e}},transformResponse:function(e){var t=e.access_token,r=e.refresh_token;return{user:Object(w.a)(t),access_token:t,refresh_token:r}}}),calculate:e.mutation({query:function(e){return{url:"api/v1/calculators/add",method:"POST",body:{number1:e.operand1,number2:e.operand2,client_id:e.client_id}}}})}}}),S=v.useLoginMutation,P=v.useCalculateMutation,k=r(30),C=r(10),_=function(e){var t=e.text;return Object(C.jsx)(b.a,{style:E.container,children:Object(C.jsx)(k.a,{style:E.text,children:t})})},E=p.a.create({container:{padding:8,borderWidth:1,borderColor:"red",borderRadius:4,width:"100%",marginTop:8,marginBottom:16},text:{color:"red",fontSize:14}}),L=r(11),T=r.n(L),B=r(125),D={primary:"#32CE57",white:"#ffffff",grey:"#d9d9d9",lightGrey:"#f5f5f7",red:"#FF0056",lightRed:"#E10958"},z=["label","error"];function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=function(e){var t=e.label,r=e.error,n=T()(e,z),a=r?W:M;return Object(C.jsxs)(b.a,{style:a.containerStyle,children:[t&&Object(C.jsx)(k.a,{style:a.labelStyle,children:t}),Object(C.jsx)(B.a,U({style:a.inputStyle},n)),r&&Object(C.jsx)(k.a,{style:a.errorLabelStyle,children:r})]})},M=p.a.create({containerStyle:{width:"100%"},inputStyle:{height:48,paddingLeft:16,borderWidth:1,borderColor:D.grey,borderRadius:4},labelStyle:{fontSize:12,marginBottom:4},errorLabelStyle:{fontSize:12,color:D.red,marginTop:4}}),W=p.a.create({containerStyle:{width:"100%"},inputStyle:{height:48,paddingLeft:16,borderWidth:1,borderColor:D.red,borderRadius:4},labelStyle:{fontSize:12,marginBottom:4},errorLabelStyle:{fontSize:12,color:D.red,marginTop:4}}),q=r(126),F=function(e){var t=e.text,r=e.onClick,n=e.disabled;return Object(C.jsx)(q.a,{style:H.button,onPress:r,disabled:n,children:Object(C.jsx)(k.a,{style:H.text,children:t})})},H=p.a.create({button:{height:48,alignItems:"center",justifyContent:"center",textTransform:"uppercase",width:"100%",backgroundColor:D.primary,borderRadius:4},text:{fontSize:14,color:D.white}}),J=function(e){var t=e.children;return Object(C.jsx)(b.a,{style:N.container,children:t})},N=p.a.create({container:{width:"100%",marginBottom:16}}),V=r(20),G=r(5),Q=Object(G.d)({name:"auth",initialState:{user:null,access_token:null,refresh_token:null},reducers:{setCredentials:function(e,t){console.log(t.payload),e.user=t.payload.user,e.access_token=t.payload.access_token,e.refresh_token=t.payload.refresh_token}}}),A=Q.actions.setCredentials,K=Q.reducer,X=function(e){return e.auth};function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $,ee=function(e){var t,r,n=e.navigation,a=Object(V.d)(),o=Object(h.useState)({username:"",password:""}),c=l()(o,2),i=c[0],s=c[1],u=S(),p=l()(u,2),f=p[0],O=p[1];return Object(C.jsxs)(b.a,{style:te.container,children:[Object(C.jsx)(j.a,{source:y.a,style:{width:200,height:60,marginBottom:48}}),O.isError&&Object(C.jsx)(_,{text:null==(t=O.error)||null==(r=t.data)?void 0:r.message}),Object(C.jsx)(J,{children:Object(C.jsx)(I,{placeholder:"Username",label:"Enter username*",value:i.username,onChangeText:function(e){s((function(t){return Z(Z({},t),{},{username:e})}))},secureTextEntry:!1})}),Object(C.jsx)(J,{children:Object(C.jsx)(I,{placeholder:"Password",label:"Enter password*",secureTextEntry:!0,value:i.password,onChangeText:function(e){s((function(t){return Z(Z({},t),{},{password:e})}))}})}),Object(C.jsx)(J,{children:Object(C.jsx)(F,{text:"Login",onClick:function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(f({username:i.username,password:i.password}));case 2:e=t.sent,a(A(e.data)),n.navigate("home");case 5:case"end":return t.stop()}}),null,null,null,Promise)},disabled:O.isLoading})})]})},te=p.a.create({container:Z({flex:1,alignItems:"center",padding:24},f.a.select({web:{width:400},default:"100%"})),loginButton:{width:"100%"}}),re=function(){var e,t=function(){var e=Object(V.e)(X);return Object(h.useMemo)((function(){return e}),[e])}(),r=P(),n=l()(r,2),a=n[0],o=n[1].isLoading;return Object(C.jsxs)(b.a,{style:ne.container,children:[Object(C.jsxs)(k.a,{children:["Username: ",null==(e=t.user)?void 0:e.username]}),Object(C.jsx)(F,{text:"Calculate",onClick:function(){var e,r;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(a({operand1:1,operand2:2,client_id:null==(e=t.user)?void 0:e.id}));case 2:r=n.sent,console.log(r);case 4:case"end":return n.stop()}}),null,null,null,Promise)},disabled:o}),o&&Object(C.jsx)(k.a,{children:"Calculating..."})]})},ne=p.a.create({container:{flex:1,width:"100%",alignItems:"center",padding:24}}),ae=Object(o.a)(),oe=function(){return Object(C.jsxs)(ae.Navigator,{initialRouteName:"login",screenOptions:{headerBackVisible:!1},children:[Object(C.jsx)(ae.Screen,{name:"login",component:ee,options:{title:"Login"}}),Object(C.jsx)(ae.Screen,{name:"home",component:re,options:{title:"Home",headerBackVisible:!1}})]})},ce=Object(G.a)({reducer:($={},i()($,v.reducerPath,v.reducer),i()($,"auth",K),$),middleware:function(e){return e().concat(v.middleware)}}),ie=r(190);function se(){return Object(C.jsx)(V.a,{store:ce,children:Object(C.jsx)(ie.a,{children:Object(C.jsx)(oe,{})})})}},143:function(e,t,r){e.exports=r(183)}},[[143,1,2]]]);
//# sourceMappingURL=app.a0471984.chunk.js.map