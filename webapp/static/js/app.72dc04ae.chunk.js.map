{"version":3,"sources":["assets/app-logo.png","src/screens/auth/authSlice.tsx","src/hooks/useAuth.ts","src/store/services/baseQuery.ts","src/store/services/api.ts","src/store/services/auth.ts","src/components/Info.tsx","src/style/theme.ts","src/components/TextInput.tsx","src/components/Button.tsx","src/components/FormField.tsx","src/screens/auth/Login.tsx","src/helpers.ts","src/store/services/calculator.ts","src/screens/calculator/Calculator.tsx","src/screens/calculator/index.tsx","src/screens/Main.tsx","src/screens/calculator/calculatorSlice.ts","src/store/store.ts","App.tsx"],"names":["module","exports","slice","createSlice","name","initialState","user","access_token","refresh_token","reducers","setCredentials","state","action","payload","actions","getAuthData","auth","useAuth","useSelector","useMemo","baseQuery","fetchBaseQuery","baseUrl","Constants","manifest","extra","headers","baseQueryWithReauth","args","api","extraOptions","a","async","accessToken","getState","refreshToken","authorization","result","error","status","data","error_code","url","method","refreshResult","userData","jwtDecode","dispatch","jsonValue","JSON","stringify","AsyncStorage","setItem","removeItem","createApi","reducerPath","endpoints","useLoginMutation","injectEndpoints","build","login","mutation","query","credentials","body","transformResponse","onQueryStarted","queryFulfilled","console","log","Info","text","View","style","container","Text","StyleSheet","create","padding","borderWidth","borderColor","borderRadius","width","marginTop","marginBottom","color","fontSize","theme","primary","white","grey","lightGrey","red","lightRed","TextInput","label","rest","errorStyle","defaultStyle","containerStyle","labelStyle","inputStyle","errorLabelStyle","height","paddingLeft","Button","onClick","disabled","buttonStyle","styles","button","push","TouchableOpacity","onPress","alignItems","justifyContent","textTransform","backgroundColor","FormField","children","Login","navigation","useState","username","password","formState","setFormState","Image","source","AppLogo","isError","message","placeholder","value","onChangeText","secureTextEntry","unwrap","navigate","isLoading","flex","Platform","select","web","default","loginButton","convertStringToDouble","val","Number","parseFloat","replace","calculatorApi","calculate","operand1","operand2","operator","client_id","calculatorUrlPostfix","number1","number2","fetchSessions","userId","sessionStart","sessionStop","sessionId","useCalculateMutation","useFetchSessionsQuery","useSessionStartMutation","useSessionStopMutation","CalculatorButton","buttonText","Calculator","loading","setState","useEffect","s","handlePress","operand","test","current","concat","screen","screenText","resultText","toString","buttonGroup","row","maxWidth","display","flexDirection","margin","fontWeight","textAlign","CalculatorScreen","isCalculateLaoding","id","isSessionsFetching","session","startSession","sessionStartError","isSessionStartError","isSessionStartLoading","isSessionStartSuccess","isSuccess","is_active","OS","Stack","createNativeStackNavigator","Main","setLoading","loggedIn","useDispatch","getItem","parse","checkIfUserDataExist","Navigator","initialRouteName","screenOptions","header","Screen","component","activeSession","undefined","setActiveSession","store","configureStore","reducer","authReducer","calculatorReducer","middleware","getDefaultMiddleware","App","NavigationContainer"],"mappings":"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","file":"static/js/app.72dc04ae.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/app-logo.3be78e48.png\";","import { createSlice } from \"@reduxjs/toolkit\";\nimport type { User } from \"../../store/services/api\";\nimport type { RootState } from \"../../store/store\";\n\ntype AuthState = {\n  user: User | null;\n  access_token: string | null;\n  refresh_token: string | null;\n};\n\nconst slice = createSlice({\n  name: \"auth\",\n  initialState: {\n    user: null,\n    access_token: null,\n    refresh_token: null,\n  } as AuthState,\n  reducers: {\n    setCredentials: (state, action) => {\n      state.user = action.payload.user;\n      state.access_token = action.payload.access_token;\n      state.refresh_token = action.payload.refresh_token;\n    },\n  },\n});\n\nexport const { setCredentials } = slice.actions;\n\nexport default slice.reducer;\n\nexport const getAuthData = (state: RootState) => state.auth;\n","import { useMemo } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { getAuthData } from \"../screens/auth/authSlice\";\n\nexport const useAuth = () => {\n  const auth = useSelector(getAuthData);\n\n  return useMemo(() => auth, [auth]);\n};\n","import {\n  fetchBaseQuery,\n  FetchArgs,\n  FetchBaseQueryError,\n  BaseQueryFn,\n} from \"@reduxjs/toolkit/query/react\";\n\nimport Constants from \"expo-constants\";\nimport { setCredentials } from \"../../screens/auth/authSlice\";\nimport jwtDecode from \"jwt-decode\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { RootState } from \"../store\";\n\nconst baseQuery = fetchBaseQuery({\n  baseUrl: Constants.manifest?.extra?.baseUrl,\n  headers: {\n    \"content-type\": \"application/json\",\n  },\n});\n\nconst baseQueryWithReauth: BaseQueryFn<\n  string | FetchArgs,\n  unknown,\n  FetchBaseQueryError\n> = async (args, api, extraOptions) => {\n  const accessToken = (api.getState() as RootState).auth.access_token;\n  const refreshToken = (api.getState() as RootState).auth.refresh_token;\n\n  //original request\n  let result = await baseQuery(\n    {\n      ...args,\n      headers: {\n        authorization: `Bearer ${accessToken}`,\n      },\n    },\n    api,\n    extraOptions,\n  );\n\n  if (\n    result.error &&\n    result.error.status === 403 &&\n    (result.error.data.error_code === \"TOKEN_EXPIRED\" ||\n      result.error.data.error_code === \"TOKEN_INVALID\")\n  ) {\n    // try to get a new token\n    const refreshResult = await baseQuery(\n      {\n        url: \"api/v1/refresh-token\",\n        method: \"POST\",\n        headers: {\n          authorization: `Bearer ${refreshToken}`,\n        },\n      },\n      api,\n      extraOptions,\n    );\n\n    if (refreshResult.data) {\n      // store the new token\n      const { access_token, refresh_token } = refreshResult.data;\n      const userData = {\n        user: jwtDecode(access_token),\n        access_token,\n        refresh_token,\n      };\n\n      api.dispatch(setCredentials(userData));\n      const jsonValue = JSON.stringify(userData);\n      await AsyncStorage.setItem(\"@user\", jsonValue);\n\n      // retry the initial query\n      result = await baseQuery(\n        {\n          ...args,\n          headers: {\n            authorization: `Bearer ${access_token}`,\n          },\n        },\n        api,\n        extraOptions,\n      );\n    } else {\n      api.dispatch(setCredentials({}));\n      AsyncStorage.removeItem(\"@user\");\n    }\n  }\n  return result;\n};\n\nexport default baseQueryWithReauth;\n","import { createApi } from \"@reduxjs/toolkit/query/react\";\nimport baseQueryWithReauth from \"./baseQuery\";\n\nexport const api = createApi({\n  reducerPath: \"api\",\n  baseQuery: baseQueryWithReauth,\n  endpoints: () => ({}),\n});\n","import { api } from \"./api\";\nimport jwtDecode from \"jwt-decode\";\nimport { setCredentials } from \"../../screens/auth/authSlice\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nexport interface User {\n  id: string;\n  username: string;\n  email: string;\n  iss: string;\n  role: string[];\n}\n\nexport interface LoginResponse {\n  access_token: string;\n  refresh_token: string;\n  user_id: string;\n}\n\nexport interface LoginRequest {\n  username: string;\n  password: string;\n}\n\nexport const authApi = api.injectEndpoints({\n  endpoints: (build) => ({\n    login: build.mutation<LoginResponse, LoginRequest>({\n      query: (credentials) => ({\n        url: \"api/v1/login\",\n        method: \"POST\",\n        body: credentials,\n      }),\n      transformResponse: ({ access_token, refresh_token }) => ({\n        user: jwtDecode(access_token),\n        access_token,\n        refresh_token,\n      }),\n      // set user data when logged in\n      async onQueryStarted(args, { dispatch, queryFulfilled }) {\n        try {\n          const { data } = await queryFulfilled;\n          dispatch(setCredentials(data));\n\n          const jsonValue = JSON.stringify(data);\n          await AsyncStorage.setItem(\"@user\", jsonValue);\n        } catch (error) {\n          console.log(error);\n        }\n      },\n    }),\n  }),\n});\n\nexport const { useLoginMutation } = authApi;\n","import React from \"react\";\nimport { View, Text, StyleSheet } from \"react-native\";\n\ninterface Props {\n  text: string;\n}\n\nexport const Info: React.FunctionComponent<Props> = ({ text }) => (\n  <View style={style.container}>\n    <Text style={style.text}>{text}</Text>\n  </View>\n);\n\nconst style = StyleSheet.create({\n  container: {\n    padding: 8,\n    borderWidth: 1,\n    borderColor: \"red\",\n    borderRadius: 4,\n    width: \"100%\",\n    marginTop: 8,\n    marginBottom: 16,\n  },\n  text: {\n    color: \"red\",\n    fontSize: 14,\n  },\n});\n","export const theme = {\n  color: {\n    primary: \"#32CE57\",\n    white: \"#ffffff\",\n    grey: \"#d9d9d9\",\n    lightGrey: \"#f5f5f7\",\n    red: \"#FF0056\",\n    lightRed: \"#E10958\",\n  },\n};\n","import {\n  View,\n  TextInput as RNInput,\n  Text,\n  StyleSheet,\n  TextInputProps,\n} from \"react-native\";\nimport { theme } from \"../style/theme\";\n\ninterface Props extends TextInputProps {\n  label?: string;\n  error?: string;\n}\n\nexport const TextInput: React.FC<Props> = ({ label, error, ...rest }) => {\n  const style = error ? errorStyle : defaultStyle;\n  return (\n    <View style={style.containerStyle}>\n      {label && <Text style={style.labelStyle}>{label}</Text>}\n      <RNInput style={style.inputStyle} {...rest} />\n      {error && <Text style={style.errorLabelStyle}>{error}</Text>}\n    </View>\n  );\n};\n\nconst defaultStyle = StyleSheet.create({\n  containerStyle: {\n    width: \"100%\",\n  },\n  inputStyle: {\n    height: 48,\n    paddingLeft: 16,\n    borderWidth: 1,\n    borderColor: theme.color.grey,\n    borderRadius: 4,\n  },\n  labelStyle: {\n    fontSize: 12,\n    marginBottom: 4,\n  },\n  errorLabelStyle: {\n    fontSize: 12,\n    color: theme.color.red,\n    marginTop: 4,\n  },\n});\n\nconst errorStyle = StyleSheet.create({\n  containerStyle: {\n    width: \"100%\",\n  },\n  inputStyle: {\n    height: 48,\n    paddingLeft: 16,\n    borderWidth: 1,\n    borderColor: theme.color.red,\n    borderRadius: 4,\n  },\n  labelStyle: {\n    fontSize: 12,\n    marginBottom: 4,\n  },\n  errorLabelStyle: {\n    fontSize: 12,\n    color: theme.color.red,\n    marginTop: 4,\n  },\n});\n","import { StyleSheet, TouchableOpacity, Text } from \"react-native\";\nimport { theme } from \"../style/theme\";\n\ninterface Props {\n  text: string;\n  onClick: () => void;\n  disabled?: boolean;\n}\n\nexport const Button: React.FC<Props> = ({ text, onClick, disabled, style }) => {\n  const buttonStyle = [styles.button];\n\n  if (style) {\n    buttonStyle.push(style);\n  }\n  return (\n    <TouchableOpacity style={buttonStyle} onPress={onClick} disabled={disabled}>\n      <Text style={styles.text}>{text}</Text>\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  button: {\n    height: 48,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textTransform: \"uppercase\",\n    width: \"100%\",\n    backgroundColor: theme.color.primary,\n    borderRadius: 4,\n  },\n  text: {\n    fontSize: 14,\n    color: theme.color.white,\n  },\n});\n","import React from \"react\";\nimport { View, StyleSheet } from \"react-native\";\n\ninterface Props {\n  space?: string;\n}\n\nexport const FormField: React.FunctionComponent<Props> = ({ children }) => (\n  <View style={style.container}>{children}</View>\n);\n\nconst style = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    marginBottom: 16,\n  },\n});\n","import { View, StyleSheet, Image, Platform } from \"react-native\";\nimport { useState } from \"react\";\nimport AppLogo from \"../../../assets/app-logo.png\";\nimport { useLoginMutation } from \"../../store/services/auth\";\nimport { Info } from \"../../components/Info\";\nimport { TextInput } from \"../../components/TextInput\";\nimport { Button } from \"../../components/Button\";\nimport { FormField } from \"../../components/FormField\";\n\ninterface LoginFormState {\n  username: string;\n  password: string;\n}\n\nexport const Login = ({ navigation }) => {\n  const [formState, setFormState] = useState<LoginFormState>({\n    username: \"\",\n    password: \"\",\n  });\n  const [login, data] = useLoginMutation();\n\n  const setUsername = (value: string) => {\n    setFormState((state) => ({ ...state, username: value }));\n  };\n\n  const setPassword = (value: string) => {\n    setFormState((state) => ({ ...state, password: value }));\n  };\n\n  const handleLogin = async () => {\n    await login({\n      username: formState.username,\n      password: formState.password,\n    }).unwrap();\n\n    navigation.navigate(\"calculator\");\n  };\n\n  return (\n    <View style={style.container}>\n      <Image\n        source={AppLogo}\n        style={{ width: 200, height: 60, marginBottom: 48 }}\n      />\n      {data.isError && <Info text={data.error?.data?.message} />}\n\n      <FormField>\n        <TextInput\n          placeholder=\"Username\"\n          label=\"Enter username*\"\n          value={formState.username}\n          onChangeText={setUsername}\n          secureTextEntry={false}\n        />\n      </FormField>\n      <FormField>\n        <TextInput\n          placeholder=\"Password\"\n          label=\"Enter password*\"\n          secureTextEntry={true}\n          value={formState.password}\n          onChangeText={setPassword}\n        />\n      </FormField>\n      <FormField>\n        <Button text=\"Login\" onClick={handleLogin} disabled={data.isLoading} />\n      </FormField>\n    </View>\n  );\n};\n\nconst style = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    padding: 24,\n    ...Platform.select({\n      web: {\n        width: 400,\n      },\n      default: \"100%\",\n    }),\n  },\n  loginButton: {\n    width: \"100%\",\n  },\n});\n","export const convertStringToDouble = (val: string): number =>\n  Number.parseFloat(val.replace(/,/g, \".\"));\n","import { api } from \"./api\";\nimport { convertStringToDouble } from \"../../helpers\";\n\nexport const calculatorApi = api.injectEndpoints({\n  endpoints: (build) => ({\n    calculate: build.mutation<any, any>({\n      query: ({ operand1, operand2, operator, client_id }) => {\n        let calculatorUrlPostfix = \"\";\n        switch (operator) {\n          case \"+\":\n            calculatorUrlPostfix = \"add\";\n            break;\n          case \"-\":\n            calculatorUrlPostfix = \"subtract\";\n            break;\n          case \"*\":\n            calculatorUrlPostfix = \"multiply\";\n            break;\n          case \"/\":\n            calculatorUrlPostfix = \"divide\";\n            break;\n        }\n        return {\n          url: `api/v1/calculators/${calculatorUrlPostfix}`,\n          method: \"POST\",\n          body: {\n            number1: convertStringToDouble(operand1),\n            number2: convertStringToDouble(operand2),\n            client_id,\n          },\n        };\n      },\n    }),\n    fetchSessions: build.query<any, any>({\n      query: (userId) => ({\n        url: `/api/v1/students/${userId}/sessions`,\n        method: \"GET\",\n      }),\n    }),\n    sessionStart: build.mutation<any, any>({\n      query: () => ({\n        url: \"api/v1/sessions/start\",\n        method: \"POST\",\n      }),\n    }),\n    sessionStop: build.mutation<any, any>({\n      query: ({ sessionId }) => ({\n        url: `api/v1/sessions/${sessionId}/end`,\n        method: \"POST\",\n        body: \"\",\n      }),\n    }),\n  }),\n});\n\nexport const {\n  useCalculateMutation,\n  useFetchSessionsQuery,\n  useSessionStartMutation,\n  useSessionStopMutation,\n} = calculatorApi;\n","import React, { useEffect, useState } from \"react\";\nimport { View, StyleSheet, Text, TouchableOpacity } from \"react-native\";\n\nimport { theme } from \"../../style/theme\";\n\ninterface CalculatorButtonProps {\n  text: string;\n  onClick: (text: string) => void;\n  style?: any;\n  disabled?: boolean;\n}\n\nconst CalculatorButton: React.FC<CalculatorButtonProps> = ({\n  text,\n  onClick,\n  disabled,\n}) => {\n  const handleClick = () => {\n    onClick(text);\n  };\n  return (\n    <TouchableOpacity\n      style={styles.button}\n      onPress={handleClick}\n      disabled={disabled}\n    >\n      <Text style={styles.buttonText}>{text}</Text>\n    </TouchableOpacity>\n  );\n};\n\ninterface CalculatorProps {\n  calculate: (operand1: string, operand2: string, operator: string) => void;\n  loading: boolean;\n  result: string;\n}\n\nexport const Calculator: React.FC<CalculatorProps> = ({\n  calculate,\n  loading,\n  result,\n}) => {\n  const [state, setState] = useState({\n    operand1: \"\",\n    operand2: \"\",\n    operator: \"\",\n    result: result ?? \"\",\n  });\n\n  useEffect(() => {\n    setState((s) => ({ ...s, result }));\n  }, [result]);\n\n  const handlePress = (value: string) => {\n    const operand = !state.operator ? \"operand1\" : \"operand2\";\n\n    if (value === \"AC\") {\n      setState({\n        operand1: \"\",\n        operand2: \"\",\n        operator: \"\",\n        result: \"\",\n      });\n    } else if (/[\\d,]/g.test(value)) {\n      if (/,/g.test(value) && /,/g.test(state[operand])) {\n        return;\n      }\n\n      setState((current) =>\n        current.result\n          ? {\n              operand1: value,\n              operand2: \"\",\n              operator: \"\",\n              result: \"\",\n            }\n          : {\n              ...current,\n              [operand]: state[operand].concat(value),\n            },\n      );\n    } else if (/[/x\\-*+]/.test(value)) {\n      if (!state.operand1) {\n        return;\n      }\n\n      setState((current) => ({\n        ...current,\n        operator: value,\n      }));\n    } else if (value === \"=\") {\n      if (!loading) {\n        calculate(state.operand1, state.operand2, state.operator);\n      }\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.screen}>\n        <Text style={styles.screenText}>\n          {state.operand1} {state.operator} {state.operand2}\n          {state.result ? (\n            <Text style={styles.resultText}>\n              = {state.result.toString().replace(/\\./g, \",\")}\n            </Text>\n          ) : null}\n        </Text>\n      </View>\n      <View style={styles.buttonGroup}>\n        <View style={styles.row}>\n          <CalculatorButton text=\"AC\" onClick={handlePress} />\n          <CalculatorButton text=\"\" onClick={handlePress} disabled={true} />\n          <CalculatorButton text=\"\" onClick={handlePress} disabled={true} />\n          <CalculatorButton text=\"/\" onClick={handlePress} />\n        </View>\n        <View style={styles.row}>\n          <CalculatorButton text=\"7\" onClick={handlePress} />\n          <CalculatorButton text=\"8\" onClick={handlePress} />\n          <CalculatorButton text=\"9\" onClick={handlePress} />\n          <CalculatorButton text=\"*\" onClick={handlePress} />\n        </View>\n        <View style={styles.row}>\n          <CalculatorButton text=\"4\" onClick={handlePress} />\n          <CalculatorButton text=\"5\" onClick={handlePress} />\n          <CalculatorButton text=\"6\" onClick={handlePress} />\n          <CalculatorButton text=\"-\" onClick={handlePress} />\n        </View>\n        <View style={styles.row}>\n          <CalculatorButton text=\"1\" onClick={handlePress} />\n          <CalculatorButton text=\"2\" onClick={handlePress} />\n          <CalculatorButton text=\"3\" onClick={handlePress} />\n          <CalculatorButton text=\"+\" onClick={handlePress} />\n        </View>\n        <View style={styles.row}>\n          <CalculatorButton text=\"0\" onClick={handlePress} />\n          <CalculatorButton text=\"\" onClick={handlePress} disabled={true} />\n          <CalculatorButton text=\",\" onClick={handlePress} />\n          <CalculatorButton text=\"=\" onClick={handlePress} disabled={loading} />\n        </View>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    marginTop: 24,\n    maxWidth: 500,\n    height: 330,\n  },\n  row: {\n    display: \"flex\",\n    flex: 4,\n    height: 48,\n    width: \"100%\",\n    flexDirection: \"row\",\n  },\n  buttonGroup: {\n    width: \"100%\",\n    height: 5 * 48 + 24,\n  },\n  button: {\n    flex: 1,\n    margin: 4,\n    height: 48,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textTransform: \"uppercase\",\n    width: \"100%\",\n    backgroundColor: theme.color.primary,\n    borderRadius: 4,\n  },\n  buttonText: {\n    color: \"#ffffff\",\n    fontWeight: \"bold\",\n    fontSize: 16,\n  },\n  screen: {\n    padding: 8,\n    justifyContent: \"center\",\n    backgroundColor: \"#dbdbdb\",\n    marginBottom: 16,\n    height: 80,\n  },\n  screenText: {\n    fontWeight: \"bold\",\n    fontSize: 24,\n    textAlign: \"right\",\n  },\n  resultText: {\n    fontWeight: \"bold\",\n    fontSize: 28,\n    textAlign: \"right\",\n  },\n});\n","import { View, Text, StyleSheet, Platform } from \"react-native\";\nimport {\n  useCalculateMutation,\n  useFetchSessionsQuery,\n  useSessionStartMutation,\n} from \"../../store/services/calculator\";\nimport { Calculator } from \"./Calculator\";\nimport { Info } from \"../../components/Info\";\nimport { Button } from \"../../components/Button\";\nimport { useAuth } from \"../../hooks/useAuth\";\n\nconst CalculatorScreen = () => {\n  const auth = useAuth();\n  const [calculate, { isLoading: isCalculateLaoding, data }] =\n    useCalculateMutation();\n  const { isLoading: isSessionsFetching, data: session } =\n    useFetchSessionsQuery(auth.user?.id);\n\n  const [\n    startSession,\n    {\n      error: sessionStartError,\n      isError: isSessionStartError,\n      isLoading: isSessionStartLoading,\n      isSuccess: isSessionStartSuccess,\n    },\n  ] = useSessionStartMutation();\n\n  const handleStartSession = () => {\n    startSession();\n  };\n\n  const handleCalculate = async (\n    operand1: string,\n    operand2: string,\n    operator: string,\n  ) => {\n    await calculate({\n      operand1,\n      operand2,\n      operator,\n      client_id: Platform.OS,\n    });\n  };\n\n  if (isSessionsFetching) {\n    return (\n      <View style={style.container}>\n        <Text>Loading...</Text>\n      </View>\n    );\n  }\n\n  if (!session || !session.is_active) {\n    return (\n      <View style={style.container}>\n        <Info text=\"You don't have any active session\" />\n      </View>\n    );\n  }\n\n  return (\n    <View style={style.container}>\n      {isSessionStartError && <Info text={sessionStartError?.data?.message} />}\n      {isSessionStartSuccess ? (\n        <Calculator\n          calculate={handleCalculate}\n          loading={isCalculateLaoding}\n          result={data?.result}\n        />\n      ) : (\n        <Button\n          onClick={handleStartSession}\n          text={isSessionStartLoading ? \"Starting\" : \"Start\"}\n          disabled={isSessionStartLoading}\n        />\n      )}\n    </View>\n  );\n};\n\nconst style = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: \"100%\",\n    alignItems: \"center\",\n    padding: 24,\n    marginTop: 48,\n  },\n});\n\nexport default CalculatorScreen;\n","import { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useAuth } from \"../hooks/useAuth\";\n\nimport { Login } from \"../screens/auth/Login\";\nimport CalculatorScreen from \"./calculator\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useDispatch } from \"react-redux\";\nimport { setCredentials } from \"./auth/authSlice\";\n\nconst Stack = createNativeStackNavigator();\n\nexport const Main = () => {\n  const auth = useAuth();\n  const [loading, setLoading] = useState(true);\n  const loggedIn = useMemo(() => auth && auth.user, [auth?.user]);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const checkIfUserDataExist = async () => {\n      try {\n        const jsonValue = await AsyncStorage.getItem(\"@user\");\n        const data = jsonValue != null ? JSON.parse(jsonValue) : null;\n\n        if (jsonValue) {\n          dispatch(setCredentials(data));\n        }\n\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n      }\n    };\n\n    checkIfUserDataExist();\n  }, [dispatch, setCredentials]);\n\n  if (loading) {\n    return null;\n  }\n\n  return (\n    <Stack.Navigator\n      initialRouteName=\"calculator\"\n      screenOptions={{ header: () => null }}\n    >\n      {!loggedIn ? (\n        <Stack.Screen name=\"login\" component={Login} />\n      ) : (\n        <Stack.Screen name=\"calculator\" component={CalculatorScreen} />\n      )}\n    </Stack.Navigator>\n  );\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport type { RootState } from \"../../store/store\";\n\ntype CalcualtorState = {\n  activeSession: unknown;\n};\n\nconst slice = createSlice({\n  name: \"calculator\",\n  initialState: {\n    activeSession: undefined,\n  } as CalcualtorState,\n  reducers: {\n    setActiveSession: (state, action) => {\n      state.activeSession = action.payload.session;\n    },\n  },\n});\n\nexport const { setActiveSession } = slice.actions;\n\nexport default slice.reducer;\n\nexport const getCalculatorState = (state: RootState) => state.calculator;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport { api } from \"./services/api\";\nimport authReducer from \"../screens/auth/authSlice\";\nimport calculatorReducer from \"../screens/calculator/calculatorSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    [api.reducerPath]: api.reducer,\n    auth: authReducer,\n    calculator: calculatorReducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat(api.middleware),\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import { Main } from \"./src/screens/Main\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./src/store/store\";\nimport { NavigationContainer } from \"@react-navigation/native\";\n\nexport default function App() {\n  return (\n    <Provider store={store}>\n      <NavigationContainer>\n        <Main />\n      </NavigationContainer>\n    </Provider>\n  );\n}\n"],"sourceRoot":""}